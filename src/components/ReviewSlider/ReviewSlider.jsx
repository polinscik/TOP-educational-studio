import React, { useState, useEffect, useCallback } from "react";
import "./ReviewSlider.scss";
import rightArrow from "../../images/right-arrow.png";
import leftArrow from "../../images/left-arrow.png";
import FormForReview from "../FormForReview/FormForReview";

const testimonials = [
  {
    id: 1,
    text: "–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –î–∏–∞–Ω–∞ - –æ—á–µ–Ω—å —è—Ä–∫–∏–π –∏ –∂–∏–∑–Ω–µ—Ä–∞–¥–æ—Å—Ç–Ω—ã–π —á–µ–ª–æ–≤–µ–∫. –ú—ã –±–µ–∑–º–µ—Ä–Ω–æ —Å—á–∞—Å—Ç–ª–∏–≤—ã, —á—Ç–æ –ø–æ–ø–∞–ª–∏ –Ω–∞ –∑–∞–Ω—è—Ç–∏—è –∏–º–µ–Ω–Ω–æ –∫ –Ω–µ–π ‚ù§–Ø –±–ª–∞–≥–æ–¥–∞—Ä–Ω–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∑–∞ –∑–Ω–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–≤–ª–∞–¥–µ–ª–∞ –º–æ—è –¥–æ—á—å, –Ω–æ –µ—â—ë –∏ –±–æ–ª—å—à–æ–π –∏–Ω—Ç–µ—Ä–µ—Å –∫ –Ω–µ–∑–Ω–∞–∫–æ–º–æ–º—É —è–∑—ã–∫—É ‚ù§–ú–æ—è –¥–æ—á—å –≤ –≤–æ—Å—Ç–æ—Ä–≥–µ –æ—Ç –∑–∞–Ω—è—Ç–∏–π, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –≤ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –∏ –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π —Ñ–æ—Ä–º–µ. –í—Å–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –î–∏–∞–Ω—É.",
    name: "–ï–ª–µ–Ω–∞,",
    profession: "—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –∞–≤–∏–∞–∫–æ–º–ø–∞–Ω–∏–∏, –º–∞–º–∞ 2-—Ö –¥–µ—Ç–µ–π",
    product: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫",
  },
  {
    id: 2,
    text: "–°—É–ø–µ—Ä —É—á–∏—Ç–µ–ª—å üî• —É –¥–µ—Ç–µ–π –ø–æ—è–≤–∏–ª—Å—è –∏–Ω—Ç–µ—Ä–µ—Å –∫ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É —è–∑—ã–∫—É, —ç—Ç–æ –∑–∞—Å–ª—É–≥–∞ –î–∏–∞–Ω—ã. J  –ë–æ–ª—å—à–∞—è –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –∑–∞ –µ–µ —Ç—Ä—É–¥ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ !!! –î–µ—Ç–∏ –∂–¥—É—Ç –∫–∞–∂–¥—ã–π —É—Ä–æ–∫ —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º!",
    name: "–û–ª—å–≥–∞,",
    profession: "–ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å, –º–∞–º–∞ 3-—Ö –¥–µ—Ç–µ–π",
    product: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫",
  },
  {
    id: 3,
    text: "–•–æ—á—É –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –æ —Å—Ç—É–¥–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è ¬´–¢–æ–ø¬ª. –£–¥–æ–±–Ω–æ–µ –º–µ—Å—Ç–æ—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ä—è–¥–æ–º —Å –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π. –î–æ–±—Ä–∞—Ç—å—Å—è –æ—á–µ–Ω—å –ª–µ–≥–∫–æ –Ω–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ. –í —Å–∞–º–æ–π —Å—Ç—É–¥–∏–∏ –º–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–≥—Ä–∞—Ç—å —Å –¥–µ—Ç—å–º–∏ –≤ –ø–æ–¥–≤–∏–∂–Ω—ã–µ –∏–≥—Ä—ã. –ö–æ–≥–¥–∞ —è –≤—ã–±–∏—Ä–∞–ª–∞ —è–∑—ã–∫–æ–≤—É—é —à–∫–æ–ª—É, –¥–ª—è –º–µ–Ω—è –±—ã–ª–æ –≤–∞–∂–Ω—ã–º, —á—Ç–æ–±—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –≤ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥. –î–∏–∞–Ω–∞ —Å–º–æ–≥–ª–∞ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞—Ç—å, –∑–∞–º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–±–µ–Ω–∫–∞. –°—ã–Ω –º–Ω–µ —Å–∫–∞–∑–∞–ª, —á—Ç–æ –æ–Ω–∞ —Å–∞–º—ã–π –ª—É—á—à–∏–π —É—á–∏—Ç–µ–ª—å (–±–µ–∑ –≤—Å—è–∫–æ–π –ª–µ—Å—Ç–∏). –£—á–∏—Ç–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç –∫ –∫–∞–∂–¥–æ–º—É —Ä–µ–±–µ–Ω–∫—É –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥. –î–ª—è —Ä–µ–±–µ–Ω–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–∏—Ç—É–∞—Ü–∏—è —É—Å–ø–µ—Ö–∞, —Ö–≤–∞–ª—è—Ç, –¥—Ä—É–≥–∏–µ –¥–µ—Ç–∏ –≤ –≥—Ä—É–ø–ø–µ –∞–ø–ª–æ–¥–∏—Ä—É—é—Ç, –µ—Å–ª–∏ —Ä–µ–±–µ–Ω–æ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ –∏–ª–∏ –∏–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ, –∞ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —Ç–æ —É—á–∏—Ç–µ–ª—å –ø–æ–º–æ–≥–∞–µ—Ç, –æ–±—ä—è—Å–Ω—è–µ—Ç –µ—â–µ —Ä–∞–∑ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–≤–æ–∏—Ö —É—á–µ–Ω–∏–∫–æ–≤, —á—Ç–æ –≤—Å–µ –ø–æ–ª—É—á–∏—Ç—Å—è. –ú—ã –∂–∏–≤–µ–º –≤ –¥—Ä—É–≥–æ–º —Ä–∞–π–æ–Ω–µ –≥–æ—Ä–æ–¥–∞, –Ω–æ –Ω–µ –∂–∞–ª–µ–µ–º, —á—Ç–æ –µ–∑–¥–∏–º –∫ –≤–∞–º –Ω–∞ —É—Ä–æ–∫–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞. –î—É–º–∞—é, —á—Ç–æ –¥–∞–∂–µ —è —Å–∞–º–∞ —Ö–æ—Ç–µ–ª–∞ –±—ã —Ö–æ–¥–∏—Ç—å –∫ –≤–∞–º –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫). –•–æ—Ç–µ–ª–æ—Å—å –±—ã –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ —É—á–∏—Ç–µ–ª—å –æ—á–µ–Ω—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –¥–ª—è —É—Ä–æ–∫–∞. –£—Ä–æ–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –¥–æ—Å—Ç—É–ø–Ω–æ –¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª, –∑–∞ –æ–¥–Ω–æ –∑–∞–Ω—è—Ç–∏–µ –¥–µ—Ç–∏ —É—Å–ø–µ–≤–∞—é—Ç –ø—Ä–æ–π—Ç–∏ —Ç–µ–º—É –∏ –∑–∞–∫—Ä–µ–ø–∏—Ç—å –µ—ë. –°–µ–π—á–∞—Å –º–æ–π —Å—ã–Ω —É—á–∏—Ç—Å—è –≤–æ –≤—Ç–æ—Ä–æ–º –∫–ª–∞—Å—Å–µ, –µ–º—É –ª–µ–≥–∫–æ –¥–∞–µ—Ç—Å—è –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫ –±–ª–∞–≥–æ–¥–∞—Ä—è –≤–∞—à–µ–π —à–∫–æ–ª–µ –∏ –≤–∞—à–µ–π –º–µ—Ç–æ–¥–∏–∫–µ. –î–∏–∞–Ω–∞, —Å–ø–∞—Å–∏–±–æ –≤–∞–º –±–æ–ª—å—à–æ–µ –∑–∞ –≤–∫–ª–∞–¥ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –º–æ–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞. üôèüôèüôè ",
    name: "–ò—Ä–∏–Ω–∞,",
    profession: "–º–∞–º–∞ 4-—Ö –¥–µ—Ç–µ–π",
    product: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫",
  },
  {
    id: 4,
    text: '–¢–∞–∫ —Å–ª—É—á–∏–ª–æ—Å—å, —á—Ç–æ "—Å–æ–∑—Ä–µ–ª" —É—á–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –≤ —Å–≤–æ–∏ 38 –ª–µ—Ç. –ö–æ–Ω–µ—á–Ω–æ, —è –∑–Ω–∞–ª —Å–æ—Ç–Ω—é-–¥–≤–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤, –Ω–æ –Ω–∞ —ç—Ç–æ–º –ø–æ–∑–Ω–∞–Ω–∏—è –∑–∞–∫–∞–Ω—á–∏–≤–∞–ª–∏—Å—å. –° –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º –î–∏–∞–Ω–æ–π –Ω–∞—á–∞–ª–∏ –∑–∞–Ω—è—Ç–∏—è on-line —Å —Å–µ—Ä–µ–¥–∏–Ω—ã –∞–ø—Ä–µ–ª—è. –≠—Ç–æ –∫—Ä—É—Ç–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª –∏ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π, –æ—Ç–∫—Ä—ã—Ç—ã–π —á–µ–ª–æ–≤–µ–∫. –î–∏–∞–Ω–µ –ø–æ–≤–µ–∑–ª–æ, –æ–Ω–∞ –Ω–∞—à–ª–∞ —Å–µ–±–µ –≤ –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏–∏ - —ç—Ç–æ –Ω–∞ 100% –µ–µ –ø—Ä–∏–∑–≤–∞–Ω–∏–µ. –ó–∞–Ω–∏–º–∞—é—Å—å 4 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–Ω—è—Ç–∏—è 1 —á–∞—Å. –ù–∞ –∑–∞–Ω—è—Ç–∏—è—Ö 90% - —ç—Ç–æ –æ–±—â–µ–Ω–∏–µ, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–±—è –≤ —Ä–∞–∑–≥–æ–≤–æ—Ä–µ –Ω–∞ —Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç "–ø—Ä–æ–∫–∞—á–∏–≤–∞–µ–º". –¢–µ–æ—Ä–∏—é –∏–∑—É—á–∞—é –≤ –≤–∏–¥–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –∏ –µ—Å–ª–∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏ –Ω–µ–ø–æ–Ω–∏–º–∞–Ω–∏—è - –≤—Å–µ —ç—Ç–æ –ø—Ä–æ–≥–æ–≤–∞—Ä–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–∫–µ, –ø–æ–∫–∞ –Ω–µ "–¥–æ–π–¥–µ—Ç". –†–µ–∑—É–ª—å—Ç–∞—Ç - —á–µ—Ä–µ–∑ 2 —Å –Ω–µ–±–æ–ª—å—à–∏–º –º–µ—Å—è—Ü–∞ —è —Å–º–æ–≥ –æ–±—â–∞—Ç—å—Å—è —Å —Ä–∏–µ–ª—Ç–æ—Ä–∞–º–∏ (–∏–Ω–¥—É—Å—ã, –∞—Ä–∞–±—ã) –≤ –û–ê–≠, –¥–∞–∂–µ —à—É—Ç–∏—Ç—å —à—É—Ç–∫–∏. –ë–∞—Ä—å–µ—Ä —Å–ª–æ–º–∞–ª—Å—è, —è —Å–µ–±—è —Ç–∞–∫ —Å–≤–æ–±–æ–¥–Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —á—É–≤—Å—Ç–≤–æ–≤–∞–ª –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π. –ù–∞ —ç—Ç–æ–º, –∫–æ–Ω–µ—á–Ω–æ, –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Å—å, —Ö–æ—á—É C1 Advanced.',
    name: " –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω,",
    profession: "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ç–¥–µ–ª–∞ web-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏",
    product: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫",
  },
  {
    id: 5,
    text: "–ú–æ—è –¥–æ—á—å —Å –æ–≥—Ä–æ–º–Ω—ã–º —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –ø–æ—Å–µ—â–∞–µ—Ç –∑–∞–Ω—è—Ç–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞. –î–∏–∞–Ω–∞ –∫–∞–∫ –ø–µ–¥–∞–≥–æ–≥ –æ—á–µ–Ω—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è, –∫–æ–º–º—É–Ω–∏–∫–∞–±–µ–ª—å–Ω–∞—è —Å –¥–µ—Ç—å–º–∏ –∏ —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏, –æ—Ç–∫—Ä—ã—Ç–∞—è, –¥–æ–±—Ä–∞—è, –∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω–∞—è. –ó–Ω–∞–µ—Ç —Å–≤–æ–µ –¥–µ–ª–æ. –ë—É–¥—É —Å–æ–≤–µ—Ç–æ–≤–∞—Ç—å –≤—Å–µ–º —Å–≤–æ–∏–º –∑–Ω–∞–∫–æ–º—ã–º.",
    name: "–ù–∞—Ç–∞–ª–∏—è,",
    profession: "–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å, –º–∞–º–∞ 3-—Ö –¥–µ—Ç–µ–π",
    product: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫",
  },
  {
    id: 6,
    text: "–ë–ª–∞–≥–æ–¥–∞—Ä—é –î–∏–∞–Ω—É –∑–∞ –µ–µ –ª—é–±–æ–≤—å –∫ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É –∏ —Å –∏–Ω—Ç–µ—Ä–µ—Å–æ–º –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏–µ –¥–ª—è –¥–µ—Ç–µ–π! –ú–æ–π —Å—ã–Ω —Ö–æ–¥–∏–ª –¥–≤–∞ –≥–æ–¥–∞ —Å —Ä–∞–¥–æ—Å—Ç—å—é –Ω–∞ —É—Ä–æ–∫–∏. –í —à–∫–æ–ª–µ —É—á–∏—Ç–µ–ª—è, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –¥–µ—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –∏ —Ç–∞–∫ –ø–æ–Ω–∏–º–∞—é—Ç –æ—Ç –ø—Ä–∏—Ä–æ–¥—ã. –î–∏–∞–Ω–∞ –ø–æ–¥–Ω—è–ª–∞ –∑–Ω–∞–Ω–∏—è —Å 5 –∫–ª –∏ –º—ã, —è —Å—á–∏—Ç–∞—é, –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Å–¥–∞–ª–∏ —ç–∫–∑–∞–º–µ–Ω –Ω–∞ ¬´3¬ª, –Ω–µ —Ö–≤–∞—Ç–∏–ª–æ 1 –±–∞–ª–∞ –¥–æ ¬´4¬ª . –ù–æ —ç—Ç–æ —Ç–≤–µ—Ä–¥—ã–µ –Ω–∞—à–∏ –∑–Ω–∞–Ω–∏—è. –ë–ª–∞–≥–æ–¥–∞—Ä—é –ë–æ–≥–∞ –∑–∞ –≤—Å—Ç—Ä–µ—á—É —Å —ç—Ç–∏–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —É—á–∏—Ç–µ–ª–µ–º! –û–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –≤—Å–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É—é. üôèüå∏‚ù§Ô∏è ",
    name: "–ú–∞—Ä–∏–Ω–∞,",
    profession: "–ø–æ–¥–æ–ª–æ–≥, –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å",
    product: "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫",
  },
  {
    id: 7,
    text: "–ü—Ä–∏—à—ë–ª –≤ —Å—Ç—É–¥–∏—é –∏ –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å –ê—Ä—Ç—É—Ä–æ–º –≤ –∫–æ–Ω—Ü–µ 11 –∫–ª–∞—Å—Å–∞. –ü–æ–Ω–∏–º–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∑–Ω–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, —á—Ç–æ–±—ã —Å—Ç—Ä–æ–∏—Ç—å –∫–∞—Ä—å–µ—Ä—É —É—Å–ø–µ—à–Ω–æ–≥–æ –∞–π—Ç–∏—à–Ω–∏–∫–∞, —è –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏—è—Ö –∏ –∑–∞–Ω–∏–º–∞–ª—Å—è –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–æ–≤. –£–∂–µ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ 1 –∫—É—Ä—Å–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –æ—Ç–º–µ—Ç–∏–ª–∞ –º–æ–∏ –Ω–µ–ø–ª–æ—Ö–∏–µ –∑–Ω–∞–Ω–∏—è –∏ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ –∏ —Å—Ç–∞–≤–∏–ª–∞ –≤ –ø—Ä–∏–º–µ—Ä –æ–¥–Ω–æ–≥—Ä—É–ø–ø–Ω–∏–∫–∞–º. –¢–µ–ø–µ—Ä—å —è –º–æ–≥—É –æ–±—â–∞—Ç—å—Å—è –≤ –∞–Ω–≥–ª–æ—è–∑—ã—á–Ω—ã—Ö –∫–æ–º—å—é–Ω–∏—Ç–∏ –±–µ–∑ —Å—Ç–µ—Å–Ω–µ–Ω–∏—è. –•–æ—á—É –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –ê—Ä—Ç—É—Ä —Å–¥–µ–ª–∞–ª –¥–ª—è –º–µ–Ω—è –∏–∑—É—á–µ–Ω–∏–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º –∏ –ø–æ–º–æ–≥ –ø—Ä–∏—É–º–Ω–æ–∂–∏—Ç—å –º–æ–∏ —à–∫–æ–ª—å–Ω—ã–µ –∑–Ω–∞–Ω–∏—è, –∑–∞ —á—Ç–æ —è –æ—á–µ–Ω—å –µ–º—É –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω.)",
    name: "–ú–∞—Ç–≤–µ–π,",
    profession: "—Å—Ç—É–¥–µ–Ω—Ç –ë–∞–π–∫–∞–ª—å—Å–∫–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞",
    product: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫",
  },
  {
    id: 8,
    text: "–Ø –ø—Ä–∏—à–ª–∞ —É—á–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —Å —É—Ä–æ–≤–Ω–µ–º –ê1, –±—ã–ª –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç—è–Ω—É—Ç—å —É—Ä–æ–≤–µ–Ω—å, —Ç–∞–∫ –∫–∞–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∏ –ø–µ—Ä–µ–µ—Ö–∞—Ç—å —Å —Å–µ–º—å—ë–π –∑–∞ –≥—Ä–∞–Ω–∏—Ü—É. –£—á–∏–ª–∞—Å—å –æ—á–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ –≥–æ–¥, –∑–∞—Ç–µ–º –µ—â—ë –æ–¥–∏–Ω, –Ω–æ —É–∂–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —É—Ä–æ–≤–Ω—è. –ü–µ—Ä–µ–µ—Ö–∞–ª–∏, —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ, –º–æ–≥—É –æ–±—â–∞—Ç—å—Å—è —Å –∫–µ–º —É–≥–æ–¥–Ω–æ –∏ –Ω–∞ –∫–∞–∫—É—é —É–≥–æ–¥–Ω–æ —Ç–µ–º—É! –ò –≤–æ—Ç –≤ —ç—Ç–æ–º –≥–æ–¥—É –ø—Ä–æ—à–ª–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∏ –º–µ–Ω—è –ø—Ä–∏–≥–ª–∞—Å–∏–ª–∏ –Ω–∞ —Ä–∞–±–æ—Ç—É –≤ IT –∫–æ–º–ø–∞–Ω–∏—é! –û—á–µ–Ω—å —É–¥–∏–≤–∏–ª–∏—Å—å –∏ –ø–æ—Ö–≤–∞–ª–∏–ª–∏ –∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä—É—Å—Å–∫–æ–≥–æ –∞–∫—Ü–µ–Ω—Ç–∞! –ë–ª–∞–≥–æ–¥–∞—Ä—è –º–æ–µ–º—É —É–ø–æ—Ä—Å—Ç–≤—É –∏ –ø–æ–º–æ—â–∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –î–∏–∞–Ω—ã –≤—Å—ë –ø–æ–ª—É—á–∏–ª–æ—Å—å!",
    name: "–ù–∞—Ç–∞–ª—å—è,",
    profession: "–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤ IT –∫–æ–º–ø–∞–Ω–∏–∏, –º–∞–º–∞ 2-—Ö –¥–µ—Ç–µ–π",
    product: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫",
  },
];

const TestimonialsSlider = () => {
  const [currentIndex, setCurrentIndex] = useState(0);
  const [expandedCard, setExpandedCard] = useState(null);
  const [itemsPerPage, setItemsPerPage] = useState(4);
  const [maxLength, setMaxLength] = useState(570);
  const [showForm, setShowForm] = useState(false);

  useEffect(() => {
    const handleResize = () => {
      if (window.innerWidth <= 570) {
        setMaxLength(200);
        setItemsPerPage(2);
      } else if (window.innerWidth <= 1024) {
        setMaxLength(200);
      } else {
        setMaxLength(570);
      }
    };
    handleResize();

    window.addEventListener("resize", handleResize);

    return () => window.removeEventListener("resize", handleResize);
  }, []);

  const next = () => {
    setCurrentIndex(
      (prevIndex) =>
        (prevIndex + 1) % Math.ceil(testimonials.length / itemsPerPage)
    );
    setExpandedCard(null);
  };

  const prev = () => {
    setCurrentIndex(
      (prevIndex) =>
        (prevIndex - 1 + Math.ceil(testimonials.length / itemsPerPage)) %
        Math.ceil(testimonials.length / itemsPerPage)
    );
    setExpandedCard(null);
  };

  const currentTestimonials = testimonials.slice(
    currentIndex * itemsPerPage,
    (currentIndex + 1) * itemsPerPage
  );

  const handleOpen = useCallback(() => {
    setShowForm(true);
    document.body.style.overflow = 'hidden';
  }, []);

  const handleClose = useCallback(() => {
    setShowForm(false);
    document.body.style.overflow = '';
  }, []);

  return (
    <div className="testimonials-slider">
      <h2 className="testimonials-heading" id="about-title">
        –û—Ç–∑—ã–≤—ã –ø—Ä–æ –Ω–∞—Å
      </h2>
      <div className="slider-container">
        <button className="arrow left" onClick={prev}>
          <img src={leftArrow} alt="Left arrow" />
        </button>
        <div className="testimonials-grid">
          {currentTestimonials.map((testimonial, index) => {
            const isUpperRow = index < 2;
            const isExpanded = expandedCard === testimonial.id;

            return (
              <div
                className={`testimonial-card ${isUpperRow ? "upper" : "lower"
                  } ${isExpanded ? "expanded" : ""}`}
                key={testimonial.id}
              >
                <p className="quote">
                  {isExpanded || testimonial.text.length <= maxLength
                    ? testimonial.text
                    : `${testimonial.text.slice(0, maxLength)}...`}
                </p>
                {!isExpanded && testimonial.text.length > maxLength && (
                  <button
                    onClick={() => setExpandedCard(testimonial.id)}
                    className="read-more"
                  >
                    –ß–∏—Ç–∞—Ç—å –±–æ–ª—å—à–µ
                  </button>
                )}
                <div className="testimonial-footer">
                  <div className="author-info">
                    <p>{testimonial.name}</p>
                    <p>{testimonial.profession}</p>
                  </div>
                  <div className="product-container">
                    <div className="product-name">{testimonial.product}</div>
                  </div>
                </div>
              </div>
            );
          })}
        </div>
        <button className="arrow right" onClick={next}>
          <img src={rightArrow} alt="Right arrow" />
        </button>
      </div>
      <div className="leave-feedback-button">
        <button className="leave-feedback" onClick={handleOpen}>
          –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤
        </button>
      </div>
      {showForm && <FormForReview onClickClose={handleClose} />}
    </div>
  );
};

export default TestimonialsSlider;
